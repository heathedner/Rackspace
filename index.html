<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Rackspace</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/custom.css">
</head>

<body>
<div class="racks">
    <div class="rackContainer">
        <h3 class="rackTitle">Rack 1 DHS MDF</h3>
        <div class="shelf">
            <div class="device blank">
                <img id="r0s0" src="assets/cisco/3550.png" width="100%">
            </div>
            <div class="buttons">
                <span onclick="swapDevice(0,0)" class="button"><img src="assets/swap.png"></span>
                <span onclick="deviceNotes(0,0)" class="button"><img src="assets/note.png"></span>
            </div>
        </div>
        <div class="shelf">
            <div class="device blank">
                <img id="r0s1" src="assets/cisco/2800.png" width="100%">
            </div>
            <div class="buttons">
                <span onclick="swapDevice(0,1)" class="button"><img src="assets/swap.png"></span>
                <span onclick="deviceNotes(0,1)" class="button"><img src="assets/note.png"></span>
            </div>
        </div>
        <div class="shelf">
            <div class="device blank">
                <img id="r0s2" src="assets/placeholder.png" width="100%">
            </div>
            <div class="buttons">
                <span onclick="swapDevice(0,2)" class="button"><img src="assets/swap.png"></span>
                <span onclick="deviceNotes(0,2)" class="button"><img src="assets/note.png"></span>
            </div>
        </div>
        <div class="shelf">
            <div class="device blank">
                <img id="r0s3" src="assets/placeholder.png" width="100%">
            </div>
            <div class="buttons">
                <span onclick="swapDevice(0,3)" class="button"><img src="assets/swap.png"></span>
                <span onclick="deviceNotes(0,3)" class="button"><img src="assets/note.png"></span>
            </div>
        </div>
        <div class="shelf">
            <div class="device blank">
                <img id="r0s4" src="assets/placeholder.png" width="100%">
            </div>
            <div class="buttons">
                <span onclick="swapDevice(0,4)" class="button"><img src="assets/swap.png"></span>
                <span onclick="deviceNotes(0,4)" class="button"><img src="assets/note.png"></span>
            </div>
        </div>
        <div class="shelf">
            <div class="device blank">
                <img id="r0s5" src="assets/placeholder.png" width="100%">
            </div>
            <div class="buttons">
                <span onclick="swapDevice(0,5)" class="button"><img src="assets/swap.png"></span>
                <span onclick="deviceNotes(0,5)" class="button"><img src="assets/note.png"></span>
            </div>
        </div>
    </div>
    <hr style="margin: 20px 0 20px 0; width: 100%;">
    <!-- <div class="rackContainer">
        <h3 class="rackTitle">Rack 2</h3>
        <div class="shelf">
            <div class="device blank">
                <img id="r1s0" src="assets/cisco/3550.png" width="100%">
            </div>
            <div class="buttons">
                <span onclick="swapDevice(1,0)" class="button"><img src="assets/swap.png"></span>
                <span onclick="deviceNotes(1,0)" class="button"><img src="assets/note.png"></span>
            </div>
        </div>
        <div class="shelf">
            <div class="device blank">
                <img id="r1s1" src="assets/cisco/2800.png" width="100%">
            </div>
            <div class="buttons">
                <span onclick="swapDevice(1,1)" class="button"><img src="assets/swap.png"></span>
                <span onclick="deviceNotes(1,1)" class="button"><img src="assets/note.png"></span>
            </div>
        </div>
        <div class="shelf">
            <div class="device blank">
                <img id="r1s2" src="assets/placeholder.png" width="100%">
            </div>
            <div class="buttons">
                <span onclick="swapDevice(1,2)" class="button"><img src="assets/swap.png"></span>
                <span onclick="deviceNotes(1,2)" class="button"><img src="assets/note.png"></span>
            </div>
        </div>
        <div class="shelf">
            <div class="device blank">
                <img id="r1s3" src="assets/placeholder.png" width="100%">
            </div>
            <div class="buttons">
                <span onclick="swapDevice(1,3)" class="button"><img src="assets/swap.png"></span>
                <span onclick="deviceNotes(1,3)" class="button"><img src="assets/note.png"></span>
            </div>
        </div>
        <div class="shelf">
            <div class="device blank">
                <img id="r1s4" src="assets/placeholder.png" width="100%">
            </div>
            <div class="buttons">
                <span onclick="swapDevice(1,4)" class="button"><img src="assets/swap.png"></span>
                <span onclick="deviceNotes(1,4)" class="button"><img src="assets/note.png"></span>
            </div>
        </div>
        <div class="shelf">
            <div class="device blank">
                <img id="r1s5" src="assets/placeholder.png" width="100%">
            </div>
            <div class="buttons">
                <span onclick="swapDevice(1,5)" class="button"><img src="assets/swap.png"></span>
                <span onclick="deviceNotes(1,5)" class="button"><img src="assets/note.png"></span>
            </div>
        </div>
    </div> -->
</div>

<div class="closetInfo">
    <div class="timestamp">
        <h2>Timestamps</h2>
        <table id="timeTable"></table>
    </div>
    <hr>
</div>



<!-- Device Swap Modal -->
<div id="deviceSwapModal" class="modal">
  <div class="modal-content">
    <span onclick="closeSwapModal()" class="close">&times;</span>
    <h4>General</h4>
    <button onclick="setShelf('assets/placeholder.png')">Remove Unit</button>
    <button onclick="setShelf('assets/fiber.png')">Fiber Tray</button>
    <button onclick="setShelf('assets/pc.png')">Computer Shelf</button>

    <h4>Patch Panels</h4>
    <button onclick="setShelf('assets/patchpanels/24patch.png')">24 Port Panel </button>
    <button onclick="setShelf('assets/patchpanels/24patch_staggered.png')">24 Port Panel Staggered</button>
    <button onclick="setShelf('assets/patchpanels/48patch.png')">48 Port Panel 1U</button>
    <button onclick="setShelf('assets/patchpanels/48patch_2U.png')">48 Port Panel 2U</button>
    <button onclick="setShelf('assets/patchpanels/32patch_empty.png')">32 Empty Port Panel</button>

    <h4>Cisco</h4>
    <button onclick="setShelf('assets/cisco/3550.png')">Catalyst 3550</button>
    <button onclick="setShelf('assets/cisco/2800.png')">2000 Series Router</button>

    <h4>Juniper</h4>
    <button onclick="setShelf('assets/juniper/mx150.png')">MX 150</button>

  </div>

</div> 

<!-- Device Notes Modal -->
<div id="deviceNotesModal" class="modal">
    <div class="modal-content">
        <span onclick="closeNotesModal()" class="close">&times;</span>
        <h3>Device Notes</h3>
        <textarea id="deviceNote" name="deviceNote" rows="10">  </textarea>
        <br>
        <button onclick="updateNote()">Update</button>
    </div>
</div> 


            
</body>
<script>
var currentShelf = 0;

//Temp Data

var notesArray = [["Rack 1 Shelf 1 Notes","Rack 1 Shelf 2 Notes", "Rack 1 Shelf 3 Notes","Rack 1 Shelf 4 Notes","Rack 1 Shelf 5 Notes","Rack 1 Shelf 6 Notes"],["Rack 2 Shelf 1 Notes","Rack 2 Shelf 2 Notes", "Rack 2 Shelf 3 Notes","Rack 2 Shelf 4 Notes","Rack 2 Shelf 5 Notes","Rack 2 Shelf 6 Notes"] ];
var fakeTimestamps = ["1/2/3@2:30,Igniting Pilot Lights","4/5/6@1:10,Mowed the Grass","7/8/9@1:50,Constructed Additional Pylons"]
const date = new Date();
var timestamp = date.getDay() + "/" + date.getMonth() + "/" + date.getYear() + "@" + date.getHours()+":"+date.getMinutes()+", no comment <textarea></textarea>";
fakeTimestamps.unshift(timestamp);
getTimestamps('~');

function getTimestamps(note){
    for (var i = 0; i < fakeTimestamps.length; i++){
        var timeStampSplit = fakeTimestamps[i].split(',');
        document.getElementById("timeTable").innerHTML += '<tr><td>'+timeStampSplit[0]+'</td><td>'+timeStampSplit[1]+'</td></tr>';
    }
}


function setShelf(image){
    document.getElementById("r"+currentRack+"s"+currentShelf).src = image;
}

function swapDevice(rack,shelf){
  currentShelf = shelf;
  currentRack = rack
  document.getElementById("deviceSwapModal").style.display = "block";
}

function deviceNotes(rack,shelf){
  currentShelf = shelf;
  currentRack = rack
  document.getElementById("deviceNotesModal").style.display = "block";
  document.getElementById("deviceNote").value = notesArray[currentRack][currentShelf];
}


function closeSwapModal(){
    document.getElementById("deviceSwapModal").style.display = "none";
}
function closeNotesModal(){
    document.getElementById("deviceNotesModal").style.display = "none";
}

function updateNote(){
    console.log(notesArray[currentShelf])
    notesArray[currentRack][currentShelf] = document.getElementById("deviceNote").value;
}

window.onclick = function(event) {
  if (event.target == document.getElementById("deviceSwapModal")) {
    deviceSwapModal.style.display = "none";
  }
  if (event.target == document.getElementById("deviceNotesModal")) {
    deviceNotesModal.style.display = "none";
  }
}

</script>
</html>

